# 数据驱动研发设计

在数据应用的道路上，不同的团队有着相似的目标——业务快速增长，同时利用计算机技术尽量减少人员参与，提高效率。但不同团队的发展是不一样的，起步早晚、数据量大小、技术环境、商业环境等都对团队的数据应用过程产生着影响，让团队面临着不同的问题。  
通过整理和总结，我们可以将日常数据工作中遇到的问题分为三大类：

```text
·数据不可见

·数据不可靠

·数据不可变
```

三个阶段是相继开始，并一直存在的。每个阶段都在前一个阶段初步完成之后就已启动，随着前一个阶段的逐步完善而一起完善。更重要的是，每个阶段都会成为后续阶段的重要输出方式。若我们已经在开展分析自动化的搭建工作，那么在这个过程中，任何输出信息都会优先以展示自动化阶段实现的统计图来呈现。而当我们在开展驱动自动化的搭建工作时，驱动的成果会反映到自动化的分析当中，进而以统计图的方式呈现。  
![&#x5C4F;&#x5E55;&#x5FEB;&#x7167; 2019-04-10 &#x4E0A;&#x5348;11.09.09.png](https://cdn.nlark.com/yuque/0/2019/png/120638/1554865795997-e870440d-e3a5-4354-a9c4-96a27f459da9.png#align=left&display=inline&height=189&name=屏幕快照%202019-04-10%20上午11.09.09.png&originHeight=432&originWidth=864&size=40255&status=done&width=378)

## 1、数据展示：展示自动化

### 1.1、数据“从无到有”

### 1.2、建立数据关联

### 1.3、降低理解成本——可视化

## 2、数据分析：分析自动化

有了可视化的数据统计图，已经能够大大提高我们透过数据观察产品的效率。产品的数据特征，会定期、定量地按照预先安排好的形式，呈现在我们面前。另外，在统计图中，我们已经加入了一定的分析逻辑。比如，将数据按照不同用户群、不同渠道、不同时期进行拆分，之后通过统计图进行比较。经过这一步，我们已经把一部分资源从高度重复而低效的数据提取、整理、绘图等工作中抽离出来，实现了自动化，提高了效率。

分析自动化要解决的，仍旧是另一类通过自动化消除重复、提高效率的问题。这次我们的优化目标是分析师之间的“重复”。

分散在各个分析师身上的零散的、同质化的工作量，通过工具化、自动化的方式呈现出来，这是分析自动化要解决的问题之一。

### 2.1、分析自动化的关键点

**（1）明确关键问题**  
  
（2）建立衡量标准  
  
**（3）优化分析模式**  
将基本的问题、衡量标准与数据关联起来之后，就要开始确定分析模式了。

分析模式，指的是我们收集和处理产品数据的具体方式和流程。从分析过程对产品自身业务逻辑的介入程度，我们可以把分析模式分为黑盒分析和白盒分析。这与技术上的测试工作有很大的类似性。

所谓黑盒分析，也就是分析的过程不会介入到产品和业务的逻辑当中。这种分析关注的是流入产品的数据和流出产品的数据。

而白盒分析相对于黑盒分析，就要更多地介入产品和业务中的具体环节。为了实现这个目的，像现实世界中的传感器一样，我们也需要给产品中布置许多“传感器模块”。通常，为了不影响产品正常运转，这些“传感器模块”在上报数据时，采用的都是非实时的异步方式。并且这些上报的数据采用非定向的方式，只向那些订阅者转发。这种方式类似于订阅某一个类型的新闻。

因此，当产品执行的时候，分析的“感应器”要穿插在环节或者状态之间抽取数据。通过将抽取的数据与标准进行对比来完成最终的分析过程。通过这种方式，我们能够通过收集的数据，了解整个产品的流程。因此，白盒分析的分析模式就是一种“伴随分析”。

很明显，白盒分析的方式相对更详细、更具体，但它也无法代替“黑盒分析”的简单高效。具体实现方式，还要与接下来要介绍的信息反馈模式结合起来考虑。

**（4）优化反馈模式**  
设计好分析的模式，只完成了一半的工作，另一半的工作是信息的反馈模式。换句话说，就是分析的结果将会以什么样的形式到达关心的人手中。

常见的信息反馈方式可以分为两种：

```text
·定时反馈

·响应反馈
```

### 2.2、关键点的整合

经过以上几个关键点的优化，我们已经为自动化打好基础。接下来，就需要将几个关键点组合起来，实现真正的分析自动化。整合的过程需要经过以下几步。

**（1）关键问题的细分和关联**  
关键问题，决定了我们分析问题时的视角。其他具体的分析问题，都是关键问题与客观环境不断碰撞才分化出来的。我们将要分析的问题按照从概要到具体的顺序整理成树形结构，那么关键问题所处的位置就是根节点。

如图所示，我们以互联网金融行业常见的理财平台为例。根据不同的平台，这个关键问题树还会继续向下深入，直到能够与具体的数据项对应上。比如，将用户浏览行为再向下细分，就要考虑具体页面的PV/UV、页面上元素的曝光和点击等数据了。

![&#x5C4F;&#x5E55;&#x5FEB;&#x7167; 2019-04-10 &#x4E0A;&#x5348;11.25.21.png](https://cdn.nlark.com/yuque/0/2019/png/120638/1554866738829-87ae2f1d-4c75-4650-ae36-a72a6309731c.png#align=left&display=inline&height=254&name=屏幕快照%202019-04-10%20上午11.25.21.png&originHeight=1208&originWidth=2126&size=503017&status=done&width=447)

**（2）调节系统的“敏感程度**  
衡量标准，决定了分析工具对数据的“敏感程度”。换句话说，衡量标准设置得越严苛，就可能有更多的正常情况被判定为异常情况。

如果我们对于一款产品的搭建和运营缺少经验，比如我们正在做一款创新的产品，之前从未有人做过类似的东西，那么我们可以让分析工具暂时对数据“过敏”。比如提高阈值、提高数据抽取的频率、降低可接受的延迟等。

例如，当某日的用户浏览或投资行为出现问题时，我们就能梳理出整条相关的问题链条，如图所示。

![&#x5C4F;&#x5E55;&#x5FEB;&#x7167; 2019-04-10 &#x4E0A;&#x5348;11.27.18.png](https://cdn.nlark.com/yuque/0/2019/png/120638/1554879829915-9641f7e5-9da2-46e6-908c-9b0074f4a2fc.png#align=left&display=inline&height=225&name=屏幕快照%202019-04-10%20上午11.27.18.png&originHeight=1208&originWidth=2126&size=536821&status=done&width=396)

根据这条问题链条，我们可以做一系列自动化的分析工作：  
1）判定哪些环节出了问题，并收集问题数据。如果我们发现用户浏览/投资行为数据出了问题，就会自动向上，判断用户整体的拉新/转化情况是否有问题，如果发现问题就再向上判断运营效率是否有问题……经过这样逐级向上的问题判断，我们能通过关键问题树梳理一个表象的问题，即能够产生的最大影响范围是多大。

2）开展具体的分析工作。这个过程需要呈现两大类分析结论：一方面是对于出现问题的部分，进行深入的分析；另一方面，在问题链条中，对各个环节之间的相互影响也需要进行深入分析。

**（3）数据的收集和反馈**  
数据收集和反馈的建立和调整过程与调节数据“敏感度”的过程很类似。在产品建立的初期，相应的工具平台还没有完全搭建起来，此时，基于黑盒分析、周期性的数据收集方式更适合这个阶段。

而当工具平台逐步完善之后，我们就可以更加细化地在产品中设置更多、更细节的数据“传感器”，也会有更多资源来保证始终对产品的现状进行实时监控和反馈。

通过这几个步骤，我们就能得到一个相对完善的自动化数据分析机制。

### 2.3、数据驱动：驱动自动化

进过前面两个阶段，我们已经能够通过数据尽早发现产品和业务的变化，并能够通过数据可视化直观地看到数据背后的信息。

但这还不够。

我们通过比较数据分析和数据驱动，再一次明确了我们使用数据的目的——获得更好的产品。因此，当我们在设计好的时间点拿到想要的数据反馈之后，我们还有一些很重要的工作要做。目前，这些工作可能包括重新设计业务模式、重新设计产品原型、需求变更评审、研发工作排期、研发实现、测试和线上回归测试等。

前两个阶段中，我们的工作压力主要来源于思考如何应用现有的数据；但在数据驱动的阶段，我们的压力主要来源于等待现有的方案实现和验证。

在前面两个阶段，我们都在强调：用消除“重复”的方式来提高效率。而在这个阶段，我们依然能够看到“重复”的身影。因此，驱动自动化要解决的就是第三类“重复”问题——实现过程之间的重复。通过这个方法来尽可能地消除或减少这种刚性研发周期。

**产品的认知与产品研发的耦合**  
对产品的认知在不断变化，因此也会不断提出各种需求。而每个特定需求，都是从用户的角度出发，要求得到一种产品的特性，如要支持快速回复、要支持几家银行的银行卡、要支持指纹解锁等。如果你发现自己提出的需求已经包含多个特性，说明你需要对需求进行拆分。这不仅可以方便沟通和实现，也更方便你对产品进行控制。但与产品的认知不同，产品研发的方向相对固定，并且在一段时间周期之内较难做出灵活的改变，其对产品的拆解方式也不相同。这是耦合产生的基础。

为了改变这种糟糕的现状，我们需要进行另一种“拆分”，从而实现解耦和消除重复。这种“拆分”，是将“特性”与“逻辑”分开。之所以这样拆分，是因为特性和逻辑的关注点是不一样的。正是这种隐含的差异，导致展现出了耦合。

**2.3.1、“特性”与“逻辑”的拆分步骤**  
拆分的过程可以分为以下三个步骤：

```text
·业务抽象

·梳理现实情况的特性

·定义特性与逻辑
```

其中，前两个步骤主要为思考和设计的过程，而第三个步骤要将我们的思考具象化，变成团队内部可查阅、可分享的表现形式。

**（1）业务抽象**  
业务抽象的过程就是通过抓取业务的核心逻辑，形成相对通用的业务逻辑。这里我们可以借鉴两种比较常用的思维方式：过程的抽象和角色的抽象。

过程的抽象，重点在于梳理出业务执行过程包含的几个步骤。比如，我们开展电商业务，那么用户进行在线购物通常的核心流程大致可以拆分为选品、支付、配送等几个大环节。如果我们扩大考虑范围，还要包含设计、制造等。

而角色的抽象则完全不同。首先我们要考虑有哪些角色参与，每个角色关心的信息和可以做的事情是什么。之后，整个业务就由这些角色之间的互动而产生。

业务的基本逻辑是很少改变的。如果我们对某一类业务的基本逻辑做出改变，并且改变得确有成效，那么这将是行业颠覆级别的大新闻。

**（2）梳理现实情况的特性**  
现实情况可没有那么简单，会有各种各样的条件限制想要左右业务的执行方式。因此，有了抽象的概念之后，我们需要通过一些附加的特性将这些概念具体化。不管是前面说到的流程抽象或者角色抽象，在具体业务中都对应具体的特性。

到了具体特性的层面，有这样一条特性：某张优惠券，只能由通过了实名认证的用户领取，当单笔消费超过100元时才能使用，在原订单金额的基础上，优惠20元；并且必须在支付的环节之前就选定是否要使用这张优惠券，否则不能享受优惠。

但是，这些特性的特点就是，它们是“临时性”的，或者说，它们有可能改变。比如，针对上面这个具体的优惠券的例子，由于种种原因，流程抽象之下的特性可能进行以下这几种修改：

```text
·可以领取的人群变成了由运营人员圈定的人群才能领取；

·使用特性变成了单笔订单满500元，可以优惠50元；

·扣减方式变成了在用户确认收到商品之前，都可以选择优惠券并享受优惠。
```

“改变”，也许是你和你的团队最不想听到的词。它意味着部分需求重新设计、额外的研发工作量，乃至新的运营策略等。但是改变是一定会发生的，而且随时都有可能发生，不论谁向你保证过一定不会改变。而过去的做法，恰恰是选择了逃避、对这种改变视而不见等思路来应对，这就导致我们在改变的面前很被动。对于整个驱动自动化的理念，这是我们要改变的问题之一。

前面我们已经提到，业务的基本逻辑是不常改变的，可能经常改变的是实际的业务特性。因此，通过前两个步骤，我们已经将变化的范围基本圈定在了业务特性的范围内。自动化的数据驱动，就是要通过改变这些具体的特性来实现改动最小化和可控。

**（3）定义特性与逻辑**  
我们假设你已经在一张纸上把上面的两个步骤画下来了。那么在接下来的定义特性与逻辑的过程中，比较重要的一件事就是勾画出信息的流动轨迹，更准确地说，就是信息是如何在这些特性和逻辑之间流动的。通过梳理信息的流动，我们可以知道它们之间是如何相互影响的。

我们还是用优惠券的例子来说明。比如，在领取阶段，产品的特性表现为“符合优惠券领取要求的用户才能领取优惠券”。在使用阶段，产品的特性表现为“申购订单符合优惠券的要求，才能使用优惠券”。在扣减阶段，产品的特性表现为“在再支付的环节，只需要支付扣减后的金额”。为了达到这个效果，我们可能设计许许多多具体的领取特性、使用特性和扣减特性。

由此，优惠券从创建和展示，到被领取和使用，再到实际扣减环节产生效力，各个环节之间的信息是联通并且相互影响的。创建优惠券的信息丢失了，就无法使用；使用的信息丢失了，就无法扣减。这样，我们就可以通过掌控信息的流动和具体的信息内容来控制优惠券这个产品特性具体的表现形式，而完全不需要改变基本功能的逻辑。特性，就是具体的业务与实现的功能之间的一种协议。

用不变的逻辑结合多变的特性来让数据驱动下的产品更加灵活。

**2.3.2、自动化驱动下的产品、运营和研发**  
经过前面的步骤，我们已经从整体上将一款产品拆分为逻辑部分与特性部分，并且将绝大部分的改变控制在了特性部分之中。那么，经过这样的设计，究竟会给我们的业务和产品带来什么样的影响呢？这又跟现有的运营和数据工作之间有什么关系呢？

经过这种设计上的拆分，最大的改变就是，产品由原来的“静态的产品”变成了“动态的产品”。产品的形态，完全取决于当前的具体特性是什么。特性的改变会引发产品形态的改变。前面已经提到过，设计“特性”，就是为了承载各种环境条件的变化。因此，从设计上，也将特性尽量设计成方便改变的样子。这样，只要核心的业务逻辑被实现之后，特性的改变只会带来很少的研发工作量。

至于运营工作，在拆分之前，运营工作的对象是具体的功能特性，每种特性中都包含基本逻辑和具体特性。但由于这两样东西交织在一起，难解难分，因此修改任何一部分，都会产生大量的工作量。而经过拆分，当产品呈现出来的状态不是我们想要的样子时，我们只需要使用运营的手段去改变特性就可以了。

数据，是运营中的工具之一。运营人员需要使用数据（包括分析报告等分析结论）来传达自己的观点。经过拆分之后，运营人员可以利用数据直接影响产品特性，甚至特性就是通过数据“计算”而得来的。通过这种方法，能够更加高效地让数据对产品产生有益的影响。

研发，着重对业务抽象和逻辑进行抽象，根据特性产生不同的代码模块，减少开发成本。

这就是数据驱动自动化的基本理念。

## 3、建立产品的“数据原型”

### 3.1、原型和流程图都是产品的一种“特性”

我们在前面已经解释了“逻辑”与“特性”的关系和区别。原型和流程图之所以重要，是因为它们都直接体现了产品逻辑在某一方面的具体特性。

原型直接体现的是交互上的具体特性。虽然原型工具也会提供一些组件（如占位控件）将一部分功能抽象出来，但是原型更多呈现的是视觉和交互上的具体内容。因此，原型并非代表产品的核心逻辑，而是核心逻辑的一种具体表现形式。

### 3.2、“数据原型”

原型和流程图分别表现了交互特性和流程特性，而“数据原型”是从另一个侧面来呈现产品。

“数据原型”的基本逻辑就是要从运营目标的角度出发，将运营目标拆分到具体的、可获得、可控制的数据上。

基于原型和流程图这些文档的工作流程：当我们拿到这些设计文档之后，就会开始针对文档中的一些细节进行更加详细的讨论和设计，直到我们确实制作出了符合设计文档的产品。不管是概要设计，还是细化之后的详细设计，它们都是产品的一类特性。与原型和流程图类似，当我们拿到运营目标时，同样可以把它当作对产品在运营方面的一种“设计”。我们以产品的核心逻辑为基础，逐渐对这种运营设计进行细化，时刻评估我们距离目标还有多远，以及我们应该朝着哪个方向走，直到我们真的达到了运营目标，或者耗尽剩余时间或资源而宣告目标未达成。这就是产品在运营方面表现出的特性。

### 3.3、举一个比较简单的例子

比如我们在做一款电商产品，希望用户通过线上的方式进行选品和支付。我们可依据这个产品的逻辑进行交互方式和业务流程的设计。同时，我们也会制定一些运营目标：交易额达到100万元，同时让实际进行了交易的用户数量达到5000人以上。那么，这个目标的100万元和5000人，就是一种从产品逻辑上产生的运营特性。

在有了整体的运营目标之后，我们开始根据产品的逻辑对这个目标进行细化，形成更加细粒度的运营特性。比如，根据100万元和5000人这两个数据，我们可以找到一个简单而清晰的思路：实际消费的用户，平均每人的消费额应当不少于200元；当用户平均消费金额超过200元时，交易额目标达成的压力就变小，随之拉动用户交易转化的压力也会变小，也就是说，对于新产生的交易用户，允许人均交易额小于200元。

由此，我们还可以进一步地细化：为了得到5000人的交易用户，那么在已知的用户群中，哪些用户更容易对这个目标产生“贡献”呢？我们可以由此制作用户画像，形成用户分群，从而划分出不同的目标用户群；根据过往的从浏览用户到交易用户的转化情况看，核心的流程界面浏览量、核心功能按钮的点击量应当分别达到多少，才能达到预期的目标？再比如，对于交易额100万元的目标，可以做同样的拆解：哪些商品最容易产生交易？根据这些商品的单价，就能计算出售商品的件数应该达到多少。再根据历史的交易数据，我们可以在不同的商品之间进行选择和组合，这样既能满足运营目标，还可以兼顾一些其他外部条件，比如某个供应商希望自己的销售额达到20万元等。

![&#x5C4F;&#x5E55;&#x5FEB;&#x7167; 2019-04-10 &#x4E0B;&#x5348;3.44.21.png](https://cdn.nlark.com/yuque/0/2019/png/120638/1554901151278-77ffe2a0-4130-4c89-bf1c-f6a35ca45595.png#align=left&display=inline&height=212&name=屏幕快照%202019-04-10%20下午3.44.21.png&originHeight=1278&originWidth=2126&size=725907&status=done&width=352)

## 4、数据驱动在各个阶段的措施

### 4.1、产品

**4.1.1、行业动向**  
专业的数据报表

研究报告来源：  
艾瑞[https://www.iresearch.com.cn/report.shtml](https://www.iresearch.com.cn/report.shtml)  
易观智库

**4.1.2、竞品动向**  
竞品的数据报表  
自己对竞品的数据分析

**4.1.3、需求**  
1）、产品需求  
通过数据的思想，贯穿设计。基于对此类需求的竞品研究数据，依据现有的数据，对该需求进行分析。  
2）、优化需求  
通过数据分析，获得优化的设计思路  
3）、运营需求  
运营目标转化为原型数据

**4.1.4、业务**  
1）、行业业务的变动，数据分析  
2）、自己的业务优化，通过数据分析，进行优化

### 4.2、交互

**4.2.1、模块化设计**  
![&#x5C4F;&#x5E55;&#x5FEB;&#x7167; 2019-04-10 &#x4E0B;&#x5348;4.41.23.png](https://cdn.nlark.com/yuque/0/2019/png/120638/1554901017952-24fa1b46-447e-4b6c-a1b2-2b02d90a2916.png#align=left&display=inline&height=175&name=屏幕快照%202019-04-10%20下午4.41.23.png&originHeight=994&originWidth=2126&size=385220&status=done&width=375)

简单的方法通常是解决问题最直接有力的方法。对于功能和交互，模块化的设计思路是最常用到的。

“互斥”和“穷尽”的原则不仅仅是限制条件，还是一种思维的引导，帮助我们在设计产品的时候查漏补缺，避免出现某些环节没有考虑到的情况，以防导致更严重的后果。

排列组合可以很好帮助我们解决模块化的“互斥”和“穷尽”的原则。

**4.2.2、面向数据的优化模块拆分**  
我们通过模块化的思路，仅仅是将产品生硬地切分开了。但是，在产品“外壳”下的是千丝万缕的数据连接，也就是模块与模块之间要进行数据交换。

为了解决这个问题，我们同样要使用“逻辑”与“特性”的概念。前面已经多次反复提及这两个概念，但更多地应用在业务设计和思维上的拆分。在这里，我们真正把这两个概念落实到具体的产品功能设计上，是对这两个概念的具体落地实现。

当我们把产品进行了模块化拆分之后，我们拆分出的功能模块就是产品的“逻辑”，而产品功能中的数据就是“特性”。拆分之后的模块和数据之间的关系从上图的样子变成了这个样子。

![&#x5C4F;&#x5E55;&#x5FEB;&#x7167; 2019-04-10 &#x4E0B;&#x5348;4.42.57.png](https://cdn.nlark.com/yuque/0/2019/png/120638/1554900977452-0044cd3e-51ac-4335-a415-728e28584275.png#align=left&display=inline&height=155&name=屏幕快照%202019-04-10%20下午4.42.57.png&originHeight=634&originWidth=816&size=127239&status=done&width=199)

针对这个拆分方式，我们举一个具体的例子：当用户使用我们搭建的电商平台时，用户的个人信息、喜好、订单记录、支付记录、优惠券领用等，甚至包括用户访问页面的记录、用户在页面上看到的内容、与页面之间的交互行为等，这些信息就构成了核心数据。基于这份核心数据，我们可以判断应该优先展示给用户哪些商品、应该给用户怎样的优惠力度、应该默认选中哪种支付方式、应该通过哪种渠道提示用户订单的最新状态等。

**4.2.3、核心数据上的数据驱动方法**  
基于“逻辑”和“特性”的模块化拆分，得到了与产品特性一一对应的核心数据，具体应用数据驱动方法的时候，驱动的目标和具体的工作就更加明确了。

数据驱动方法驱动的目标就是不断地优化核心数据。具体的工作就是根据核心数据中表现出的问题，制定相应的优化方案，并让这种方案再体现在核心数据的改变中。由于产品的形态依赖于核心数据，因此我们只需要修改核心数据，产品就会变成我们想要的样子了。

比如，我们在核心数据中记录了针对各位用户需要推荐的几种商品品类，以及它们之间的优先顺序，当我们需要特别向一部分用户临时特别推荐一类商品时，我们只需要在这些用户的推荐商品种类中增加这一类商品，并且将优先级设置为最高，就完成了这个修改，而不需要修改什么功能。

**4.2.4、业务需求设计的量化**  
交互设计一定要有基于用户的核心数据的衡量指标或衡量指标的表征量。详细的方案请查考《高效设计体系》的[《](https://www.yuque.com/jingwhale/spec/demand_analysis)[需求分析](https://www.yuque.com/jingwhale/spec/demand_analysis)[》](https://www.yuque.com/jingwhale/spec/demand_analysis)。

### 4.3、开发

**4.3.1、数据驱动的程序开发设计**  
例如：上一步操作，下一步操作，对应的数据是不一样的，基于数据更好的处理逻辑的设定。这个最好的例子就是《网易有数》这个产品，是数据驱动开发的范例。

**4.3.2、开发业务逻辑+抽取数据特性**  
依据交互设计的数据模块化设计理念，抽象出业务模块，提取数据中心。  
适应善变的交互设计。

### 4.4、运营

数据分析后，提出运营需求。

